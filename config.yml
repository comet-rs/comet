inbounds:
  socks5:
    pipeline: socks5
    transport:
      type: tcp
      port: 8333

pipelines:
  socks5:
    - type: socks5_proxy_server
    - type: sniffer
      override_dest: true
      types: [tls, http]
  http_client:
    - type: http_proxy_client

router:
  defaults:
    tcp: direct_tcp
  rules:
    - target: fiddler
      rule:
        any:
          - dest_domain: ["t.cn"]
          - dest_addr: ["192.168.0.0/16"]
          
outbounds:
  direct_tcp:
    transport:
      type: tcp
  fiddler:
    pipeline: http_client
    transport:
      type: tcp
      addr: "192.168.1.105"
      port: 8888
